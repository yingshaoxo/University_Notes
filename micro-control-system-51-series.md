### 前言
学校在教单片机，我虽然大致了解我不需要用那么低级的芯片做开发(因为有arduino)，但迫于毕业的压力，还是写一写笔记方便考试

___

### 由应试教育来，到应试教育去

题目是：
利用定时器 $$T_0$$ 的方式 0，产生 $$10ms$$ 的定时，已知系统时钟频率为 $$6MH_z$$ 。请给出 $$TMOD$$ 的值， 计算出计数器的 $$初始值$$，并写出如何给$$TH0, TL0$$ 赋值

___

### 世界的基础：delay

首先，这里有一个公式:
$$
\begin{align*}
初值 = 2^x - \frac{定时时间}{机器周期}
\end{align*}
$$

一般看到公式，一般首先需要搞清楚的就是每个变量的含义，所以让我们开始吧！

___

#### 猜想1

理解一下`定时时间`，这里是 $$10ms$$

$$1 Milliseconds = 10^{-3} Seconds$$

So it's $$10 \times 10^{-3}$$

___

#### 猜想2

$$1MH_z = 1000000 = 10^6 机器周期$$

6MHz除12为0.5MHz，也就是说一秒=500000次机器周期。1ms = 500 次机器周期

10ms=5000次 机器周期。 

___

#### 一张表

方式0: $$x = 13$$

方式1: $$x = 16$$

方式2: $$x = 8$$

方式3: $$x = 8$$

由于工作在`方式0`，所以 TMOD = 16进制的 0 = 0x00 00

`0x00 00`, x 后的两个0 desn't matter, the real thing is the last two 0

It controls the way timer0 works.
___

#### So

$$
\begin{align*}
初值 &= 2^x - \frac{定时时间}{机器周期}
\\ \\
&= 2^{13} - 5000
\\ \\
&= 3192
\end{align*}
$$

将 3192 转为 16进制:

$$3192$$ -> $$0c78$$

所以:

$$TH_0 = 0c$$

$$TL_0 = 78$$